- model_class = @exercise.class
%h1=t '.title', :default => model_class.model_name.human + " " + @exercise.no.to_s
%p= @exercise.long_description
%h3= @exercise.short_description.to_s + ": "

= form_tag("#", method: "post", class: "form-horizontal") do

	-# Each operation in this exercise.
	- @exercise.operations.each.with_index do |operation,iop|
		.control-group
			%p= "No. #{iop+1}"
			- numbers = operation.numbers.split(',')
			- numbers.each.with_index do |number, inum|		
		
				-# Print Numbers:
				- klass = "op#{iop} num#{inum} control-label"
				- if operation.align == 'horizontal'
					-# Horizontal
					%label{class: "#{klass}"}= number
					.controls= operation.operator unless inum == numbers.count-1
				- else
					-# Vertical
					%label{class: "#{klass}"}= number	
	
			-# Print Resuts textbox:
			- if operation.align == 'horizontal'
				%span=raw " = "
			- else
				%div= "----------"
			.controls
				= text_field_tag "op_#{iop}", nil, class: 'text_field op_text_answer', size: 4, style: "width:35px;"
		
.form-actions
	= submit_tag "done!", class: 'btn', id: "done_btn"
	=# link_to "done!", "#", class: 'btn', id: "done_btn"
	= link_to t('.back', :default => t("helpers.links.back")), exercises_path, :class => 'btn'
	= link_to t('.edit', :default => t("helpers.links.edit")), edit_exercise_path(@exercise), :class => 'btn'
	= link_to t('.destroy', :default => t("helpers.links.destroy")), exercise_path(@exercise), :method => "delete", :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')), :class => 'btn btn-danger'
